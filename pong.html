<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>üèì Pong Synthwave</title>

<!-- Fontes retr√¥ -->
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap" rel="stylesheet">

<style>
  :root {
    --pink: #ff2dfb;
    --magenta: #d100d1;
    --cyan: #00eaff;
    --purple: #7a00ff;
    --yellow: #f7ff00;
    --bg: #0b0014;
  }

  * { box-sizing: border-box; }

  html, body {
    height: 100%;
    margin: 0;
    background: var(--bg);
    overflow: hidden;
    font-family: 'Press Start 2P', monospace;
    color: var(--cyan);
  }

  /* Fundo Synthwave */
  body::before {
    content: "";
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background:
      linear-gradient(to bottom, #3a004e 0%, #000010 40%) no-repeat,
      radial-gradient(circle at center top, #ff0088 0%, rgba(255,0,136,0) 60%) no-repeat;
    background-blend-mode: screen;
    animation: glow 4s ease-in-out infinite alternate;
    z-index: -3;
  }

  body::after {
    content: "";
    position: fixed;
    bottom: 0; left: 0;
    width: 100%;
    height: 60%;
    background-image:
      linear-gradient(to right, rgba(0,234,255,0.4) 1px, transparent 1px),
      linear-gradient(to top, rgba(255,45,251,0.25) 1px, transparent 1px);
    background-size: 40px 40px;
    transform: perspective(300px) rotateX(60deg);
    transform-origin: bottom;
    animation: gridMove 8s linear infinite;
    z-index: -2;
  }

  @keyframes gridMove {
    0% { background-position-y: 0px; }
    100% { background-position-y: 40px; }
  }

  @keyframes glow {
    from { opacity: 0.9; }
    to { opacity: 1; filter: brightness(1.2); }
  }

  /* HEADER */
  header {
    text-align: center;
    padding: 20px 0 10px;
  }

  header h1 {
    font-size: 1.4rem;
    color: var(--pink);
    text-shadow: 0 0 8px var(--pink), 0 0 20px var(--magenta), 0 0 40px var(--cyan);
    letter-spacing: 4px;
    animation: flicker 2.5s infinite alternate;
  }

  header h2 {
    font-family: 'VT323';
    color: var(--cyan);
    font-size: 1.2rem;
    text-shadow: 0 0 10px var(--cyan), 0 0 20px var(--purple);
    margin-top: 6px;
  }

  @keyframes flicker {
    0%, 18%, 22%, 25%, 53%, 57%, 100% { opacity: 1; }
    20%, 24%, 55% { opacity: 0.6; }
  }

  /* Canvas */
  canvas {
    background: rgba(0,0,0,0.8);
    border: 4px solid var(--magenta);
    box-shadow: 0 0 20px var(--magenta), 0 0 40px var(--cyan);
    border-radius: 10px;
    image-rendering: pixelated;
    display: block;
    margin: 20px auto;
  }

  /* HUD */
  .hud {
    display: flex;
    justify-content: center;
    gap: 20px;
    font-size: 0.8rem;
    text-shadow: 0 0 10px var(--cyan);
    color: var(--cyan);
  }

  .btn {
    background: transparent;
    border: 1px solid var(--pink);
    color: var(--pink);
    padding: 8px 10px;
    border-radius: 6px;
    font-family: 'VT323', monospace;
    font-size: 1rem;
    cursor: pointer;
    transition: 0.3s;
  }

  .btn:hover {
    background: var(--pink);
    color: #000;
    box-shadow: 0 0 15px var(--pink);
  }

  .crt {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: none;
    background: repeating-linear-gradient(rgba(255,255,255,0.03) 0px, rgba(0,0,0,0.05) 2px, rgba(0,0,0,0.05) 4px);
    z-index: 10;
  }

  footer {
    text-align: center;
    color: var(--pink);
    text-shadow: 0 0 10px var(--pink);
    font-family: 'VT323';
    margin-top: 10px;
  }
</style>
</head>
<body>

<header>
  <h1>NEON ARCADE</h1>
  <h2>Pong Synthwave</h2>
</header>

<canvas id="gameCanvas" width="500" height="300"></canvas>

<div class="hud">
  <span>PLAYER: <span id="scorePlayer">0</span></span>
  <span>CPU: <span id="scoreCPU">0</span></span>
  <button class="btn" id="btnRestart">RESTART</button>
  <button class="btn" onclick="location.href='index.html'">MENU</button>
</div>

<footer>üåÜ Desenvolvido por Fliperama ¬© 2025</footer>
<div class="crt"></div>

<script>
(() => {
  const canvas = document.getElementById('gameCanvas');
  const ctx = canvas.getContext('2d');
  const playerScoreEl = document.getElementById('scorePlayer');
  const cpuScoreEl = document.getElementById('scoreCPU');
  const btnRestart = document.getElementById('btnRestart');

  let playerScore = parseInt(localStorage.getItem('pongPlayer')) || 0;
  let cpuScore = parseInt(localStorage.getItem('pongCPU')) || 0;
  playerScoreEl.textContent = playerScore;
  cpuScoreEl.textContent = cpuScore;

  const paddleHeight = 60, paddleWidth = 10;
  let playerY = canvas.height / 2 - paddleHeight / 2;
  let cpuY = playerY;
  let ballX = canvas.width / 2, ballY = canvas.height / 2;
  let ballSpeedX = 4, ballSpeedY = 3;
  let running = true;
  let playerMoveUp = false, playerMoveDown = false;

  function drawRect(x, y, w, h, color) {
    ctx.fillStyle = color;
    ctx.fillRect(x, y, w, h);
  }

  function drawCircle(x, y, r, color) {
    ctx.fillStyle = color;
    ctx.beginPath();
    ctx.arc(x, y, r, 0, Math.PI*2, false);
    ctx.fill();
  }

  function resetBall() {
    ballX = canvas.width / 2;
    ballY = canvas.height / 2;
    ballSpeedX = -ballSpeedX;
  }

  function move() {
    if (!running) return;

    // Movimenta√ß√£o do jogador
    if (playerMoveUp && playerY > 0) playerY -= 5;
    if (playerMoveDown && playerY < canvas.height - paddleHeight) playerY += 5;

    ballX += ballSpeedX;
    ballY += ballSpeedY;

    // CPU autom√°tica
    let cpuCenter = cpuY + paddleHeight / 2;
    if (cpuCenter < ballY - 30) cpuY += 4;
    else if (cpuCenter > ballY + 30) cpuY -= 4;

    // colis√£o com paredes
    if (ballY < 0 || ballY > canvas.height) ballSpeedY = -ballSpeedY;

    // colis√£o com jogador
    if (ballX < paddleWidth && ballY > playerY && ballY < playerY + paddleHeight) {
      ballSpeedX = -ballSpeedX;
    }

    // colis√£o com CPU
    if (ballX > canvas.width - paddleWidth && ballY > cpuY && ballY < cpuY + paddleHeight) {
      ballSpeedX = -ballSpeedX;
    }

    // ponto CPU
    if (ballX < 0) {
      cpuScore++;
      localStorage.setItem('pongCPU', cpuScore);
      cpuScoreEl.textContent = cpuScore;
      resetBall();
    }

    // ponto player
    if (ballX > canvas.width) {
      playerScore++;
      localStorage.setItem('pongPlayer', playerScore);
      playerScoreEl.textContent = playerScore;
      resetBall();
    }
  }

  function draw() {
    ctx.fillStyle = "rgba(0,0,0,0.7)";
    ctx.fillRect(0,0,canvas.width,canvas.height);

    // centro tracejado
    ctx.strokeStyle = "rgba(0,234,255,0.8)";
    ctx.setLineDash([10,10]);
    ctx.beginPath();
    ctx.moveTo(canvas.width/2,0);
    ctx.lineTo(canvas.width/2,canvas.height);
    ctx.stroke();
    ctx.setLineDash([]);

    drawRect(0, playerY, paddleWidth, paddleHeight, "#ff2dfb");
    drawRect(canvas.width - paddleWidth, cpuY, paddleWidth, paddleHeight, "#00eaff");
    drawCircle(ballX, ballY, 6, "#fff");
  }

  function loop() {
    move();
    draw();
    requestAnimationFrame(loop);
  }

  btnRestart.addEventListener('click', () => {
    playerScore = cpuScore = 0;
    localStorage.setItem('pongPlayer', 0);
    localStorage.setItem('pongCPU', 0);
    playerScoreEl.textContent = cpuScoreEl.textContent = 0;
    resetBall();
  });

  // Controle por setas
  window.addEventListener('keydown', e => {
    if (e.key === "ArrowUp") playerMoveUp = true;
    if (e.key === "ArrowDown") playerMoveDown = true;
  });
  window.addEventListener('keyup', e => {
    if (e.key === "ArrowUp") playerMoveUp = false;
    if (e.key === "ArrowDown") playerMoveDown = false;
  });

  loop();
})();
</script>
</body>
</html>
